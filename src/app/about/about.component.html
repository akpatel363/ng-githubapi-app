<div class="my-3 container">
    <form [formGroup]="searchForm" (ngSubmit)="submit()">
        <input type="text" id="username" formControlName="username" name="username" placeholder="Search User"
            class="form-control">
        <input type="submit" class="btn btn-success mt-2">
    </form>
</div>
<div class="container" *ngIf="userData!=null; else noData">
    <div class="row">
        <div class="col-12">
            <div class="row">
                <div class="col-lg-3 col-xl-3 col-md-4 col-5">
                    <img [src]="userData['avatar_url']" alt="Profile Picture" class="img-thumbnail">
                </div>
                <div class=" col-lg-9 col-xl-9 col-md-8 col-7">
                    <h4 class="my-2"><strong>{{ userData['name'] }}</strong></h4>
                    <p class="m-0">{{ userData['login'] }}</p>
                    <p class="m-0">{{ userData['bio'] }}</p>
                    <p class="my-1">{{ userData['location'] }}</p>
                    <a *ngIf="userData['blog']!=''" [href]="userData['blog']" class="btn mt-1 btn-primary mr-2">Blog</a>
                    <a [href]="userData['html_url']" class="btn btn-success mt-1">Profile</a>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <h4 *ngIf="repos==null||repos.length==0; else repositories" class="mt-3 ml-3">No Repositories Found.....</h4>
    </div>
</div>
<ng-template #repositories>
    <div class="container">
        <h3 class="my-3">Repositories</h3>
        <div class="row">
            <div class="col-md-6 col-lg-4 col-xl-4 col-sm-12 py-1 px-2" *ngFor="let repo of repos">
                <app-repository [repo]="repo"></app-repository>
            </div>
        </div>
    </div>
</ng-template>
<ng-template #noData>
    <div class="spinner-container text-center my-4" *ngIf="status==1; else errorContainer">
        <div class="spinner-border text-success mt-4" style="height: 8em; width: 8em;">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
</ng-template>
<ng-template #errorContainer>
    <div class="container" *ngIf="error">
        <div class="alert alert-danger">
            <span *ngIf="error==1">No internet connection. Please check your internet connection.</span>
            <span *ngIf="error==2">User not found. Try searching a different username.</span>
            <span *ngIf="error==3">Something went wrong.</span>
        </div>
    </div>
</ng-template>